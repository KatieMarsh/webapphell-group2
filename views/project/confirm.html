<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Approve or disapprove</title>
    <link rel="stylesheet" href="/public/css/bootstrap.min.css">
    <!-- <link rel="stylesheet" href="/public/css/project/dashboard.css"> -->
    <script src="/public/js/bootstrap.bundle.min.js"></script>
</head>

<body>
    <nav class="navbar navbar-expand navbar-dark bg-danger ">
        <div class="container-fluid">
            <div class="collapse navbar-collapse">
                <ul class="navbar-nav ms-auto"> <!-- Added ms-auto class here -->
                    <li class="nav-item"><a class="nav-link active" href="#">Dashboard</a>
                    </li>
                    <li class="nav-item"><a class="nav-link active" href="#">My Booking</a>
                    </li>
                    <img class="avatar rounded-circle" src="/public/images/user_64px.png" height="40px">
                    <li class="nav-item"><a class="nav-link active" href="#">| Arjarn Surapong
                        </a>
                    </li>
                </ul>

            </div>
        </div>
    </nav>
    <div class="mx-5">
        <div class="row justify-content-between">
            <div class="col-11">
                <h1 class="my-3">Approve or disapprove</h1>
            </div>
            <div class="col-1"></div>
        </div>
        <hr>
        <div class="table-responsive">
            <table class="table table-hover table-striped">
                <thead class="table-light">
                    <tr>
                        <th>Room</th>
                        <th>Meeting agenda</th>
                        <th>Date</th>
                        <th>Time</th>
                        <th>Who booked</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody class="table-light" id="table_approve">

                </tbody>
            </table>
        </div>
    </div>
    </div>

    <script>
        const table_approve = document.querySelector('#table_approve');

        // mock-up data
        const json_data = '[{"room":"Study room 1","agenda":"Group study","date":"24/11/2023","time_slot_1":"0","time_slot_2":"0","time_slot_3":"0","time_slot_4":"1","whoBook":"John Doe","whoApprove":"Arjarn Surapong"},{"room":"Study room 1","agenda":"Group study","date":"24/11/2023","time_slot_1":"1","time_slot_2":"0","time_slot_3":"0","time_slot_4":"0","whoBook":"Jane Doe","whoApprove":"Arjarn Surapong"},{"room":"Study room 1","agenda":"Group study","date":"24/11/2023","time_slot_1":"0","time_slot_2":"1","time_slot_3":"0","time_slot_4":"0","whoBook":"John Doe","whoApprove":"Arjarn Surapong"}]';
        // <td><button class="btn btn-danger" onclick="deleteProduct(${p.id})">Delete</button></td>

        // JSON to JS object
        const data = JSON.parse(json_data);

        // confirm table
        let rows = '';
        data.forEach(function (d) {
            rows += `<tr>`;
            rows += `<td>${d.room}</td>`;
            rows += `<td>${d.agenda}</td>`;
            rows += `<td>${d.date}</td>`;
            if (d.time_slot_1 == "1") {
                rows += `<td>08:00 - 10:00</td>`;
            }
            else if (d.time_slot_2 == "1") {
                rows += `<td>10:00 - 12:00</td>`;
            }
            else if (d.time_slot_3 == "1") {
                rows += `<td>13:00 - 15:00</td>`;
            }
            else if (d.time_slot_4 == "1") {
                rows += `<td>15:00 - 17:00</td>`;
            }
            else {
                rows += `<td>Error</td>`;
            }
            rows += `<td>${d.whoBook}</td>`;
            rows += `<td><button class="btn btn-success me-3">Approve</button><button class="btn btn-danger">Reject</button></td>`
            rows += `</tr>`;
        });
        table_approve.innerHTML = rows;

        

    </script>
</body>

</html>